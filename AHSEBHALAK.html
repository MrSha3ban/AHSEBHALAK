<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> AHSEBHALAK </title>
    <style>
        :root {
            --primary: #2c3e50; --accent: #c0392b; --success: #27ae60; --gray: #ecf0f1; --gold: #f39c12;
        }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: #dfe4ea; margin: 0; padding: 20px; color: #2f3542; }
        .wrapper { max-width: 1200px; margin: auto; background: white; border-radius: 15px; box-shadow: 0 15px 40px rgba(0,0,0,0.2); overflow: hidden; display: flex; flex-direction: column; border: 1px solid #ccc; }
        
        /* Header */
        .header { background: var(--primary); color: white; padding: 25px; text-align: center; border-bottom: 5px solid var(--gold); }
        .header h1 { margin: 0; font-size: 26px; letter-spacing: 1px; }
        .header p { margin: 5px 0 0; opacity: 0.8; font-size: 14px; }

        /* Main Layout */
        .content { display: grid; grid-template-columns: 360px 1fr; gap: 25px; padding: 30px; }
        
        /* Settings Panel */
        .settings-panel { background: #f8f9fa; padding: 20px; border-radius: 12px; border: 1px solid #e1e4e8; }
        .section-title { color: var(--accent); border-right: 4px solid var(--accent); padding-right: 10px; margin: 20px 0 15px; font-weight: bold; font-size: 15px; }
        .section-title:first-child { margin-top: 0; }
        
        .input-group { margin-bottom: 12px; }
        label { display: block; font-size: 12.5px; font-weight: bold; margin-bottom: 5px; color: #57606f; }
        input, select { width: 100%; padding: 11px; border-radius: 6px; border: 1px solid #ced4da; box-sizing: border-box; transition: 0.3s; }
        input:focus { border-color: var(--gold); outline: none; box-shadow: 0 0 5px rgba(243, 156, 18, 0.3); }

        /* Dashboard & Cards */
        .dashboard { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }
        .card { background: white; border-left: 5px solid var(--primary); padding: 18px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); text-align: center; }
        .card h3 { margin: 0; color: #747d8c; font-size: 13px; text-transform: uppercase; }
        .card .value { font-size: 26px; font-weight: bold; color: var(--primary); margin: 8px 0; }
        .card.highlight { border-left-color: var(--gold); }

        /* Results Table */
        .table-container { margin-top: 25px; background: white; border-radius: 10px; overflow: hidden; border: 1px solid #eee; }
        table { width: 100%; border-collapse: collapse; font-size: 14px; }
        th { background: #f1f2f6; color: var(--primary); padding: 12px; text-align: center; border-bottom: 2px solid #ddd; }
        td { padding: 12px; text-align: center; border-bottom: 1px solid #eee; }
        tr:last-child td { border-bottom: none; }

        /* Contact Footer */
        .contact-footer { background: #f1f2f6; padding: 20px; border-top: 1px solid #ddd; display: flex; justify-content: space-around; align-items: center; flex-wrap: wrap; font-size: 14px; }
        .contact-item { display: flex; align-items: center; gap: 8px; margin: 5px 15px; color: var(--primary); text-decoration: none; font-weight: 500; }
        .contact-item i { color: var(--accent); }
        .contact-item:hover { color: var(--accent); }

        /* Buttons */
        .btn-group { padding: 0 30px 30px; display: flex; gap: 15px; }
        button { flex: 1; padding: 16px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; transition: 0.3s; font-size: 16px; }
        .btn-calc { background: var(--success); color: white; }
        .btn-print { background: var(--primary); color: white; }
        button:hover { filter: brightness(1.1); transform: translateY(-2px); }

        @media print { 
            .settings-panel, .btn-group, .contact-footer { display: none; } 
            .wrapper { box-shadow: none; border: none; }
            body { background: white; padding: 0; }
        }
        @media (max-width: 850px) {
            .content { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<div class="wrapper">
    <div class="header">
        <h1>Ø£Ø­Ø³Ø¨Ù‡Ø§Ù„Ùƒ...    </h1>
        <p>Ù†Ø¸Ø§Ù… Ø­Ø³Ø§Ø¨ Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø®ÙŠÙˆØ· Ø¨Ù…Ø¬Ø§Ù„ Ø§Ù„Ù…Ù„Ø§Ø¨Ø³ Ø§Ù„Ø¬Ø§Ù‡Ø²Ø© </p>
    </div>

    <div class="content">
        <aside class="settings-panel">
            <div class="section-title">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø§ÙƒÙŠÙ†Ø©</div>
            <div class="input-group">
                <label>Ù†ÙˆØ¹ Ø§Ù„Ù…Ø§ÙƒÙŠÙ†Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ:</label>
                <select id="machineType" onchange="updateSubTypes()">
                    <option value="lockstitch">Ø³Ù†Ø¬Ø± (Lockstitch 301)</option>
                    <option value="overlock" selected>Ø£ÙˆÙØ±Ù„ÙˆÙƒ (Overlock)</option>
                    <option value="coverstitch">Ø£ÙˆØ±Ù„ÙŠÙ‡ (Coverstitch)</option>
                    <option value="chainstitch">Ø³Ù„Ø³Ù„Ø© (Chainstitch)</option>
                    <option value="multineedle">ÙƒÙŠÙ† Ù„ÙˆÙŠ (Multi-needle)</option>
                    <option value="bar-tack">Ø§Ù„ÙØ§ØªÙˆØ±Ø© / Ø§Ù„Ø¹Ø±Ø§ÙˆÙŠ</option>
                </select>
            </div>
            <div class="input-group">
                <label>ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¥Ø¨Ø± ÙˆØ§Ù„ÙØªÙ„ (Ø§Ù„ØºØ±Ø²Ø©):</label>
                <select id="subType"></select>
            </div>

            <div class="section-title">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ´ØºÙŠÙ„ (Production)</div>
            <div class="input-group">
                <label>Ø·ÙˆÙ„ Ø§Ù„Ø®ÙŠØ§Ø·Ø© ÙÙŠ Ø§Ù„Ù‚Ø·Ø¹Ø© (CM):</label>
                <input type="number" id="lengthCM" value="150">
            </div>
            <div class="input-group">
                <label>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ…ÙŠØ© (Ø¹Ø¯Ø¯ Ø§Ù„Ù‚Ø·Ø¹):</label>
                <input type="number" id="qty" value="1000">
            </div>
            <div class="input-group">
                <label>Ù†Ø³Ø¨Ø© Ø§Ù„Ù‡Ø§Ù„Ùƒ Ø§Ù„ØªØ´ØºÙŠÙ„ÙŠ (%):</label>
                <input type="number" id="waste" value="15">
            </div>

            <div class="section-title">Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©</div>
            <div class="input-group">
                <label>Ø·ÙˆÙ„ Ø§Ù„Ø¨ÙƒØ±Ø© Ø§Ù„ØªØ¬Ø§Ø±ÙŠ (Yard):</label>
                <input type="number" id="coneYard" value="5000">
            </div>
            <div class="input-group">
                <label>Ù†Ù…Ø±Ø© Ø§Ù„Ø®ÙŠØ· (Tex):</label>
                <input type="number" id="threadTex" value="27">
            </div>
            <div class="input-group">
                <label>Ø³Ø¹Ø± Ø§Ù„Ø¨ÙƒØ±Ø© Ø§Ù„ÙˆØ§Ø­Ø¯Ø©:</label>
                <input type="number" id="price" value="0">
            </div>
        </aside>

        <main>
            <div class="dashboard">
                <div class="card">
                    <h3>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø£Ù…ØªØ§Ø± Ø§Ù„Ø®ÙŠØ·</h3>
                    <div class="value" id="dispTotal">0 <small>Ù…</small></div>
                </div>
                <div class="card highlight">
                    <h3>Ø§Ù„Ø¨ÙƒØ±Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© (Cones)</h3>
                    <div class="value" id="dispCones">0</div>
                </div>
                <div class="card">
                    <h3>Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØµØ§ÙÙŠ Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ÙŠ</h3>
                    <div class="value" id="dispWeight">0 <small>Ø¬Ù…</small></div>
                </div>
                <div class="card">
                    <h3>Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ© Ù„Ù„Ø·Ù„Ø¨</h3>
                    <div class="value" id="dispCost" style="color: var(--success);">0</div>
                </div>
            </div>

            <div class="section-title">ØªØ­Ù„ÙŠÙ„ Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø®ÙŠÙˆØ· Ø§Ù„ÙÙ†ÙŠ (Thread Breakdown)</div>
            <div class="table-container">
                <table id="analysisTable">
                    <thead>
                        <tr>
                            <th>Ù†ÙˆØ¹ Ø§Ù„Ø®ÙŠØ· Ø¨Ø§Ù„Ù…Ø§ÙƒÙŠÙ†Ø©</th>
                            <th>Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙˆØ²ÙŠØ¹</th>
                            <th>Ø§Ù„Ø·ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ (Ù…ØªØ±)</th>
                            <th>Ø¹Ø¯Ø¯ Ø§Ù„Ø¨ÙƒØ±Ø§Øª</th>
                        </tr>
                    </thead>
                    <tbody>
                        </tbody>
                </table>
            </div>
            <p style="font-size: 11px; color: #777; margin-top: 15px;">* Ù…Ù„Ø§Ø­Ø¸Ø©: ÙŠØªÙ… Ø­Ø³Ø§Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„Ø¨ÙƒØ±Ø§Øª Ø¨Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ Ù„Ù„Ø£Ø¹Ù„Ù‰ Ù„Ø¶Ù…Ø§Ù† ÙƒÙØ§ÙŠØ© Ø§Ù„Ø®ÙŠØ· Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ù†ØªØ§Ø¬.</p>
        </main>
    </div>

    <div class="btn-group">
        <button class="btn-calc" onclick="calculateAll()">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ø¢Ù†</button>
        <button class="btn-print" onclick="window.print()">Ø§Ø³ØªØ®Ø±Ø§Ø¬ ØªÙ‚Ø±ÙŠØ± </button>
    </div>

    <footer class="contact-footer">
        <a href="mailto:M.sha3ban@hotmail.com" class="contact-item">ğŸ“§ M.sha3ban@hotmail.com</a>
        <a href="https://wa.me/201066800808" class="contact-item">ğŸ’¬ WhatsApp: 01066800808</a>
        <a href="https://www.linkedin.com/in/mr-sha3ban/" target="_blank" class="contact-item">ğŸ”— LinkedIn: mr-sha3ban</a>
    </footer>
</div>

<script>
    const machineData = {
        lockstitch: { looper: 0.5, subs: [{n: "Ø³Ù†Ø¬Ø± Ø¥Ø¨Ø±Ø© ÙˆØ§Ø­Ø¯Ø© (301)", f: 2.8}] },
        overlock: { looper: 0.72, subs: [{n: "3 ÙØªÙ„Ø©", f: 14}, {n: "4 ÙØªÙ„Ø© (ØªÙ†Ø¸ÙŠÙ ÙˆØªÙ…ÙƒÙŠÙ†)", f: 18}, {n: "5 ÙØªÙ„Ø© (Ø£Ù…Ø§Ù†)", f: 22}] },
        coverstitch: { looper: 0.65, subs: [{n: "Ø¥Ø¨Ø±ØªÙŠÙ† (Narrow)", f: 16}, {n: "3 Ø¥Ø¨Ø± (Wide)", f: 23}, {n: "3 Ø¥Ø¨Ø± Ù…Ø¹ ØªØºØ·ÙŠØ© Ø¹Ù„ÙˆÙŠØ©", f: 28}] },
        multineedle: { looper: 0.82, subs: [{n: "4 Ø¥Ø¨Ø± (ÙƒÙŠÙ† Ù„ÙˆÙŠ)", f: 35}, {n: "12 Ø¥Ø¨Ø±Ø© (Ù…Ø·Ø§Ø·)", f: 90}] },
        chainstitch: { looper: 0.6, subs: [{n: "Ø¥Ø¨Ø±Ø© ÙˆØ§Ø­Ø¯Ø© (Ø³Ù„Ø³Ù„Ø©)", f: 5.5}, {n: "Ø¥Ø¨Ø±ØªÙŠÙ† (Ø¬Ù†Ø¨ Ø¨Ù†Ø·Ù„ÙˆÙ†)", f: 11}] },
        "bar-tack": { looper: 0.5, subs: [{n: "ØºØ±Ø²Ø© Ø¹Ø±ÙˆØ© Ø¹Ø§Ø¯ÙŠØ©", f: 1.5}, {n: "ØªØ«Ø¨ÙŠØª (Bar-tack)", f: 0.8}, {n: "Ø²Ø±Ø§ÙŠØ±", f: 0.6}] }
    };

    function updateSubTypes() {
        const main = document.getElementById('machineType').value;
        const subSelect = document.getElementById('subType');
        subSelect.innerHTML = "";
        machineData[main].subs.forEach(s => {
            let opt = document.createElement('option');
            opt.value = s.f; opt.text = s.n;
            subSelect.add(opt);
        });
    }

    function calculateAll() {
        const factor = parseFloat(document.getElementById('subType').value);
        const L_cm = parseFloat(document.getElementById('lengthCM').value) || 0;
        const N = parseFloat(document.getElementById('qty').value) || 0;
        const W = (parseFloat(document.getElementById('waste').value) / 100) + 1;
        const coneYard = parseFloat(document.getElementById('coneYard').value) || 5000;
        const tex = parseFloat(document.getElementById('threadTex').value) || 27;
        const price = parseFloat(document.getElementById('price').value) || 0;
        const mainType = document.getElementById('machineType').value;

        const coneMeter = coneYard * 0.9144;
        const totalMeters = (L_cm / 100) * factor * N * W;
        const totalCones = totalMeters / coneMeter;
        const totalWeight = (totalMeters * tex) / 1000;
        const totalCost = Math.ceil(totalCones) * price;

        document.getElementById('dispTotal').innerHTML = Math.round(totalMeters).toLocaleString() + " <small>Ù…</small>";
        document.getElementById('dispCones').innerText = Math.ceil(totalCones);
        document.getElementById('dispWeight').innerHTML = Math.round(totalWeight).toLocaleString() + " <small>Ø¬Ù…</small>";
        document.getElementById('dispCost').innerText = totalCost.toFixed(2);

        const looperRatio = machineData[mainType].looper;
        const tbody = document.querySelector('#analysisTable tbody');
        tbody.innerHTML = `
            <tr><td>Ø®ÙŠÙˆØ· Ø§Ù„ÙƒØ±ÙˆØ´ÙŠÙ‡ / Ø§Ù„ØªØºØ·ÙŠØ©</td><td>${Math.round(looperRatio*100)}%</td><td>${Math.round(totalMeters*looperRatio).toLocaleString()}</td><td>${Math.ceil(totalCones*looperRatio)}</td></tr>
            <tr><td>Ø®ÙŠÙˆØ· Ø§Ù„Ø¥Ø¨Ø± (Needles)</td><td>${Math.round((1-looperRatio)*100)}%</td><td>${Math.round(totalMeters*(1-looperRatio)).toLocaleString()}</td><td>${Math.ceil(totalCones*(1-looperRatio))}</td></tr>
        `;
    }

    window.onload = updateSubTypes;
</script>
</body>
</html>